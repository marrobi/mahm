// Import NHS.UK frontend library
@import 'node_modules/nhsuk-frontend/packages/nhsuk';

// Import all styles from the NHS App frontend library
@import 'node_modules/nhsapp-frontend/dist/nhsapp/all';

// Components that are not in the NHS.UK frontend library
@import 'components/list-border';
@import 'components/related-nav';

// Components that are custom to the NHS App
@import 'components/full-width-component-utility';
@import 'components/wrapper-and-container';
@import 'components/icons';

@import 'components/display';

@import 'components/header';
@import 'components/app-bottom-navigation';
@import 'components/bottom-sheet';
@import 'components/action-sheet';
@import 'components/add-to-wallet';
@import 'components/buttons';
@import 'components/card';
@import 'components/date-picker';
@import 'components/dynamic-page-title';
@import 'components/global-navigation-native';
@import 'components/global-navigation-web';
@import 'components/iframe';
@import 'components/inset-text';
@import 'components/ios-notifications';
@import 'components/links';
@import 'components/link-with-icon';
@import 'components/loader';
@import 'components/login-native';
@import 'components/native-view';
@import 'components/provider-banner';
@import 'components/section-break';
@import 'components/sticky-footer';
@import 'components/summary-list';
@import 'components/switch-profile-banner';
@import 'components/utilities';

@import 'components/nhsuk-frontend-extensions';

// Prototype specific styles
@import 'prototype-specific/example';
@import 'prototype-specific/ios-dynamic-text';

///////////////////////////////////////////
// Add your custom CSS/Sass styles below...
///////////////////////////////////////////

.nhsuk-back-link {
  @include nhsuk-responsive-margin(5, "bottom"); //Hotfix to fix the breacrumb spacing
}

// Native container width
// This is used to ensure the content does not stretch too wide on larger screens
// and to maintain a consistent look with the NHS App design.
.nhs-app-native .nhsuk-width-container {
  max-width: 704px; // 768px - 64px (32px padding on each side)

  @include nhsuk-media-query($from: desktop) {
    margin: 0 auto;
  }
}

///////////////////////////////////////////
// Accessibility settings styles - NHS compliant
///////////////////////////////////////////

// Text size settings - following NHS responsive typography
.text-size-large {
  font-size: 1.125em; // 18px base instead of 16px
  
  h1, .nhsuk-heading-xl {
    font-size: 2.25rem; // Proportionally larger
  }
  
  h2, .nhsuk-heading-l {
    font-size: 1.875rem;
  }
  
  h3, .nhsuk-heading-m {
    font-size: 1.5rem;
  }
  
  h4, .nhsuk-heading-s {
    font-size: 1.25rem;
  }
  
  p, .nhsuk-body-m, .nhsuk-body-l {
    font-size: 1.125rem;
    line-height: 1.6;
  }
  
  .nhsuk-lede-text {
    font-size: 1.3rem;
  }
  
  button, .nhsuk-button {
    font-size: 1.125rem;
    padding: 14px 20px;
  }
}

.text-size-extra-large {
  font-size: 1.25em; // 20px base
  
  h1, .nhsuk-heading-xl {
    font-size: 2.5rem;
  }
  
  h2, .nhsuk-heading-l {
    font-size: 2rem;
  }
  
  h3, .nhsuk-heading-m {
    font-size: 1.75rem;
  }
  
  h4, .nhsuk-heading-s {
    font-size: 1.5rem;
  }
  
  p, .nhsuk-body-m, .nhsuk-body-l {
    font-size: 1.25rem;
    line-height: 1.7;
  }
  
  .nhsuk-lede-text {
    font-size: 1.5rem;
  }
  
  button, .nhsuk-button {
    font-size: 1.25rem;
    padding: 16px 24px;
  }
}

// Bold text setting - subtle enhancement
.bold-text-enabled {
  p, .nhsuk-body-m, .nhsuk-body-l, 
  .nhsuk-card__description, .nhsuk-card__content {
    font-weight: 500; // Medium weight instead of bold to maintain readability
  }
  
  .nhsuk-lede-text {
    font-weight: 600;
  }
}

// Enhanced button labels
.button-labels-enabled {
  .nhsuk-button {
    position: relative;
    
    &::after {
      content: attr(aria-label);
      position: absolute;
      left: 50%;
      top: 100%;
      transform: translateX(-50%);
      background: #212b32;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.75rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease;
      z-index: 10;
    }
    
    &:hover::after,
    &:focus::after {
      opacity: 1;
    }
  }
  
  .nhsuk-link {
    text-decoration: underline;
    font-weight: 500;
  }
}

// Reduce motion - respects user preferences
.reduce-motion-enabled {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// Easy read format - simplified layout
.easy-read-enabled {
  .nhsuk-lede-text,
  p, .nhsuk-body-m {
    font-size: 1.125rem;
    line-height: 1.8;
    margin-bottom: 20px;
  }
  
  // Simplify form labels
  .nhsuk-label {
    font-weight: 600;
    font-size: 1.125rem;
  }
  
  .nhsuk-hint {
    font-size: 1rem;
    margin-top: 8px;
  }
  
  // Add visual indicators for important elements
  .nhsuk-button--primary::before {
    content: "→ ";
    margin-right: 4px;
  }
  
  .nhsuk-warning-callout::before {
    content: "⚠ ";
    margin-right: 8px;
  }
}

// BSL interpretation indicator
.bsl-interpretation-enabled {
  .bsl-available {
    position: relative;
    
    &::after {
      content: "BSL";
      position: absolute;
      top: 8px;
      right: 8px;
      background: #005eb8;
      color: white;
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 3px;
      font-weight: 600;
      letter-spacing: 0.5px;
    }
  }
}

// Focus enhancements for better keyboard navigation
.nhsuk-button:focus,
.nhsuk-link:focus,
input:focus,
select:focus,
textarea:focus {
  outline: 3px solid #ffb81c;
  outline-offset: 0;
  box-shadow: 0 0 0 3px #ffb81c;
}

// High contrast improvements - more subtle than before
@media (prefers-contrast: high) {
  .nhsuk-button {
    border: 2px solid currentColor;
  }
  
  .nhsuk-card {
    border: 1px solid #425563;
  }
}

// Respect system preferences
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}