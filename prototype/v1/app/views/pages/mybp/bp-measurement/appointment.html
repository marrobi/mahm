{% extends 'layout-app.html' %}

{% set hub = "Your health" %}
{% set pageHeading = "Book appointment" %}

{% block beforeContent %}
  {{ backLink({
    text: "Back",
    href: "/pages/mybp/bp-measurement/locations"
  }) }}
{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">

      <h1 class="nhsuk-heading-xl">
        Book your BP measurement
      </h1>

      <div class="nhsuk-summary-card">
        <div class="nhsuk-summary-card__header">
          <h2 class="nhsuk-summary-card__title">
            Selected location
          </h2>
        </div>
        <div class="nhsuk-summary-card__body">
          <p><strong>Westfield Community Pharmacy</strong><br>
          123 High Street, Westfield, W12 8AB<br>
          0.7 miles away</p>
        </div>
      </div>

      <form method="post" action="/pages/mybp/bp-measurement/confirmation">
        <div class="nhsuk-form-group">
          <fieldset class="nhsuk-fieldset">
            <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--m">
              <h2 class="nhsuk-fieldset__heading">
                Choose your preferred date
              </h2>
            </legend>
            
            <div class="nhsuk-radios">
              <div class="nhsuk-radios__item">
                <input class="nhsuk-radios__input" id="date-1" name="appointment-date" type="radio" value="tomorrow">
                <label class="nhsuk-radios__label" for="date-1">
                  <strong>Tomorrow, Friday 11 October</strong><br>
                  <span class="nhsuk-u-secondary-text-colour">Available slots: 10:30am, 2:15pm, 4:45pm</span>
                </label>
              </div>
              
              <div class="nhsuk-radios__item">
                <input class="nhsuk-radios__input" id="date-2" name="appointment-date" type="radio" value="saturday">
                <label class="nhsuk-radios__label" for="date-2">
                  <strong>Saturday 12 October</strong><br>
                  <span class="nhsuk-u-secondary-text-colour">Available slots: 9:15am, 11:30am, 1:00pm, 3:30pm</span>
                </label>
              </div>
              
              <div class="nhsuk-radios__item">
                <input class="nhsuk-radios__input" id="date-3" name="appointment-date" type="radio" value="monday">
                <label class="nhsuk-radios__label" for="date-3">
                  <strong>Monday 14 October</strong><br>
                  <span class="nhsuk-u-secondary-text-colour">Available slots: 9:00am, 11:15am, 2:30pm, 5:00pm</span>
                </label>
              </div>
            </div>
          </fieldset>
        </div>

        <div class="nhsuk-form-group" id="time-slots" style="display: none;">
          <fieldset class="nhsuk-fieldset">
            <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--s">
              <h3 class="nhsuk-fieldset__heading">
                Choose your time
              </h3>
            </legend>
            
            <div class="nhsuk-radios nhsuk-radios--small">
              <div class="nhsuk-radios__item">
                <input class="nhsuk-radios__input" id="time-1" name="appointment-time" type="radio" value="10:30">
                <label class="nhsuk-radios__label" for="time-1">10:30am</label>
              </div>
              <div class="nhsuk-radios__item">
                <input class="nhsuk-radios__input" id="time-2" name="appointment-time" type="radio" value="14:15">
                <label class="nhsuk-radios__label" for="time-2">2:15pm</label>
              </div>
              <div class="nhsuk-radios__item">
                <input class="nhsuk-radios__input" id="time-3" name="appointment-time" type="radio" value="16:45">
                <label class="nhsuk-radios__label" for="time-3">4:45pm</label>
              </div>
            </div>
          </fieldset>
        </div>

        <div class="nhsuk-form-group">
          <label class="nhsuk-label" for="contact-number">
            Contact phone number
          </label>
          <div class="nhsuk-hint" id="contact-number-hint">
            We'll send you appointment reminders and updates
          </div>
          <input class="nhsuk-input nhsuk-input--width-20" id="contact-number" name="contact-number" type="tel" aria-describedby="contact-number-hint" value="07700 900123">
        </div>

        <div class="nhsuk-checkboxes">
          <div class="nhsuk-checkboxes__item">
            <input class="nhsuk-checkboxes__input" id="reminders" name="reminders" type="checkbox" value="yes" checked>
            <label class="nhsuk-checkboxes__label" for="reminders">
              Send me SMS reminders
            </label>
          </div>
        </div>

        <div class="nhsuk-inset-text">
          <span class="nhsuk-u-visually-hidden">Information: </span>
          <p><strong>Appointment duration:</strong> 10 minutes<br>
          <strong>What to bring:</strong> Your smartphone and NHS app</p>
        </div>

        <button class="nhsuk-button" type="submit">
          Book appointment
        </button>
      </form>

    </div>
  </div>

  <script>
    // Show time slots when date is selected
    document.querySelectorAll('input[name="appointment-date"]').forEach(radio => {
      radio.addEventListener('change', function() {
        document.getElementById('time-slots').style.display = 'block';
      });
    });
  </script>
{% endblock %}