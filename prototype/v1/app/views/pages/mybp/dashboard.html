{% extends 'layout-app.html' %}

{% set hub = "Your health" %}
{% set pageHeading = "Your BP Dashboard" %}

{% block beforeContent %}
  {{ backLink({
    text: "Back to My BP",
    href: "/pages/mybp/index"
  }) }}
{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">

      <h1 class="nhsuk-heading-xl">
        Your blood pressure readings
      </h1>

      <p class="nhsuk-lede-text">
        View your blood pressure trends and progress over time.
      </p>

      <div class="nhsuk-inset-text">
        <span class="nhsuk-u-visually-hidden">Information: </span>
        <p><strong>⭐ AI Analysis:</strong> Your readings show good stability. Your AI supported care is monitoring your progress and will coordinate any necessary changes with your GP.</p>
      </div>

      <!-- Sample BP Chart Area -->
      <div class="nhsuk-card">
        <div class="nhsuk-card__content">
          <h2 class="nhsuk-card__heading nhsuk-heading-m">
            Recent readings (Last 30 days)
          </h2>
          <div style="background: #f0f4f5; padding: 20px; min-height: 200px;">
            <div style="display: flex; justify-content: space-between; align-items: end; height: 160px; border-bottom: 2px solid #768692; border-left: 2px solid #768692; padding: 0 10px 10px 0; position: relative;">
              <!-- Target zone background -->
              <div style="position: absolute; bottom: 10px; left: 0; right: 10px; height: 80px; background: rgba(0, 112, 60, 0.1); border: 1px dashed #00703c;"></div>
              <div style="position: absolute; bottom: 90px; left: 0; right: 10px; font-size: 12px; color: #00703c; font-weight: bold;">Target Zone (120-140 mmHg)</div>
              
              <!-- Chart bars -->
              <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="width: 20px; height: 100px; background: #f47738; margin-bottom: 5px;"></div>
                <small style="font-size: 10px;">2 wks</small>
              </div>
              <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="width: 20px; height: 70px; background: #00703c; margin-bottom: 5px;"></div>
                <small style="font-size: 10px;">1 wk</small>
              </div>
              <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="width: 20px; height: 110px; background: #f47738; margin-bottom: 5px;"></div>
                <small style="font-size: 10px;">3 days</small>
              </div>
              <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="width: 20px; height: 85px; background: #00703c; margin-bottom: 5px;"></div>
                <small style="font-size: 10px;">Today</small>
              </div>
              
              <!-- Y-axis labels -->
              <div style="position: absolute; left: -30px; bottom: 130px; font-size: 10px; color: #768692;">160</div>
              <div style="position: absolute; left: -30px; bottom: 90px; font-size: 10px; color: #768692;">140</div>
              <div style="position: absolute; left: -30px; bottom: 50px; font-size: 10px; color: #768692;">120</div>
              <div style="position: absolute; left: -30px; bottom: 10px; font-size: 10px; color: #768692;">100</div>
            </div>
            <p style="text-align: center; margin-top: 10px; font-size: 14px;"><strong>Your Blood Pressure Trends</strong><br/>
            Systolic pressure over the last 2 weeks</p>
          </div>
          
          <h3 class="nhsuk-heading-s nhsuk-u-margin-top-4">Latest readings</h3>
          <ul class="nhsuk-list">
            <li><strong>Today:</strong> 138/85 mmHg - <span style="color: #00703c;">On target</span></li>
            <li><strong>3 days ago:</strong> 142/88 mmHg - <span style="color: #f47738;">Slightly high</span></li>
            <li><strong>1 week ago:</strong> 135/82 mmHg - <span style="color: #00703c;">On target</span></li>
            <li><strong>2 weeks ago:</strong> 140/86 mmHg - <span style="color: #f47738;">Borderline</span></li>
          </ul>
        </div>
      </div>

      <!-- AI Insights -->
      <div class="nhsuk-card">
        <div class="nhsuk-card__content">
          <h2 class="nhsuk-card__heading nhsuk-heading-m">
            ⭐ What your readings mean
          </h2>
          <p><strong>Trend analysis:</strong> Your blood pressure has improved by 8% over the last month.</p>
          <p><strong>Treatment response:</strong> Current medication (Amlodipine 5mg) is working well.</p>
          <p><strong>Next steps:</strong> Continue current treatment. No changes needed at this time.</p>
        </div>
      </div>

    </div>
  </div>
{% endblock %}